#!/bin/bash

# TODO: Usage & prevention from calling from anywhere other than project root.

SERVICE=$1
SERVICE_NAME=$(echo "$SERVICE" | sed "s/service\.//g" | sed "s/-//g")

echo "ðŸ›    Generating protobuf definitions for: $SERVICE..."

protoc --go_out=. --go_opt=paths=source_relative --go-grpc_out=. --go-grpc_opt=paths=source_relative $SERVICE/proto/$SERVICE_NAME.proto && \
    echo "" && \
    echo "âœ…   Done"
